# SNMP Worker Configuration Example
# Copy this file to config.yml and adjust for your environment

# Database Configuration (PostgreSQL)
database:
  host: localhost
  port: 5432
  name: switchdb
  user: postgres
  password: your_password_here
  pool_size: 10
  max_overflow: 20

# SNMP Configuration
snmp:
  timeout: 5  # seconds
  retries: 3
  max_bulk_size: 50  # max OIDs per bulk request

# Polling Configuration
polling:
  interval: 30  # seconds between polls
  parallel_devices: 5  # number of devices to poll in parallel
  max_workers: 10  # max concurrent worker threads

# Devices to Monitor
devices:
  - name: "Core-Switch-9600"
    ip: "192.168.1.1"
    vendor: "cisco"
    model: "catalyst9600"
    snmp_version: "2c"
    community: "public"
    enabled: true
    
  - name: "Access-Switch-CBS350-01"
    ip: "192.168.1.10"
    vendor: "cisco"
    model: "cbs350"
    snmp_version: "2c"
    community: "public"
    enabled: true
    
  - name: "Core-Switch-9600-v3"
    ip: "192.168.1.2"
    vendor: "cisco"
    model: "catalyst9600"
    snmp_version: "3"
    enabled: false
    snmp_v3:
      username: "snmpuser"
      auth_protocol: "SHA"  # or MD5
      auth_password: "authpass"
      priv_protocol: "AES"  # or DES
      priv_password: "privpass"
    # Optional: Engine ID for SNMPv3 (hex string, use if device has custom Engine ID)
    # snmp_engine_id: "0102030405060708"
    
  - name: "CBS350-24FP-Custom-EngineID"
    ip: "172.18.1.214"
    vendor: "cisco"
    model: "cbs350"
    snmp_version: "3"
    enabled: false
    snmp_v3:
      username: "snmpuser"
      auth_protocol: "SHA"
      auth_password: "AuthPass123"
      priv_protocol: "AES"
      priv_password: "PrivPass123"
    # CRITICAL: CBS350 with user-defined Engine ID requires this!
    snmp_engine_id: "0102030405060708"

# Alarm Configuration
alarms:
  enabled: true
  # Debounce time to prevent alarm flooding (seconds)
  debounce_time: 60
  # States that trigger alarms
  trigger_on:
    - port_down
    - device_unreachable
    - snmp_error

# Telegram Notifications
telegram:
  enabled: false
  bot_token: "YOUR_BOT_TOKEN"
  chat_id: "YOUR_CHAT_ID"
  # Events to notify
  notify_on:
    - port_down
    - port_up
    - device_unreachable

# Email Notifications
email:
  enabled: false
  smtp_host: "smtp.gmail.com"
  smtp_port: 587
  smtp_user: "your_email@gmail.com"
  smtp_password: "your_app_password"
  from_address: "noreply@yourcompany.com"
  to_addresses:
    - "admin@yourcompany.com"
    - "network@yourcompany.com"
  notify_on:
    - port_down
    - device_unreachable

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "json"  # json or text
  file: "logs/snmp_worker.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5
  console: true
